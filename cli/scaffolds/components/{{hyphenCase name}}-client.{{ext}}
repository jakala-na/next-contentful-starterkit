'use client';

import { ResultOf } from 'gql.tada';

import { Component{{pascalCase name}}FieldsFragment } from '#/components/{{hyphenCase name}}/{{hyphenCase name}}';
{{#if includeUI}}import { {{pascalCase name}} } from '#/components/ui/{{hyphenCase name}}';{{/if}}
import { useComponentPreview } from '../hooks/use-component-preview';

export const {{pascalCase name}}Client: React.FC<{
  data: ResultOf<typeof Component{{pascalCase name}}FieldsFragment>;
}> = (props) => {
  const { data: originalData } = props;
  const { data{{#if includeUI}}, addAttributes{{/if}} } = useComponentPreview<typeof originalData>(originalData);

{{#if includeUI}}  return <{{pascalCase name}} id={data.sys.id} addAttributes={addAttributes} />;{{/if~}}
{{~#unless includeUI}}  return <div>{data.sys.id}</div>;{{/unless}}
};
